<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kaptanify</title>

<style>
    body {
        margin: 0;
        background: #000;
        font-family: Arial, sans-serif;
        color: white;
    }

    /* NAVBAR */
    .navbar {
        width: 100%;
        height: 70px;
        background: #111;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 40px;
        box-sizing: border-box;
        border-bottom: 1px solid #222;
    }

    .nav-left {
        font-size: 24px;
        font-weight: bold;
        color: #bb44ff;
    }

    .nav-center {
        display: flex;
        gap: 25px;
        font-size: 17px;
    }

    .nav-center div {
        cursor: pointer;
    }

    .nav-right input {
        padding: 10px 20px;
        width: 250px;
        border-radius: 30px;
        border: none;
        outline: none;
    }

    /* HERO */
    .hero {
        width: 100%;
        padding: 100px 20px;
        text-align: center;
        background: linear-gradient(180deg, #3a005f 0%, #000 100%);
    }

    .hero h1 {
        font-size: 55px;
        font-weight: 900;
    }

    .purple {
        color: #bb44ff;
    }

    .hero p {
        margin-top: 10px;
        color: #cccccc;
    }

    .hero input {
        margin-top: 30px;
        padding: 15px 25px;
        width: 400px;
        border: none;
        border-radius: 30px;
        outline: none;
        font-size: 16px;
    }

    .btns {
        margin-top: 25px;
        display: flex;
        gap: 20px;
        justify-content: center;
    }

    .btn {
        padding: 14px 25px;
        border-radius: 30px;
        border: none;
        cursor: pointer;
        font-size: 17px;
        font-weight: bold;
    }

    .btn-play {
        background: #bb44ff;
        color: white;
    }

    .btn-info {
        background: #333;
        color: white;
    }

    /* RESULTS */
    .section-title {
        margin: 40px 0 15px 40px;
        font-size: 25px;
        font-weight: bold;
    }

    .results {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        padding: 0 40px 80px 40px;
    }

    .song-card {
        width: 220px;
        background: #111;
        padding: 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.2s;
    }

    .song-card:hover {
        background: #222;
        transform: scale(1.05);
    }

    .song-card img {
        width: 100%;
        border-radius: 10px;
    }

    .song-title {
        font-size: 16px;
        margin-top: 8px;
    }

    .song-author {
        color: #aaa;
        font-size: 14px;
        margin-top: 4px;
    }

    /* PLAYER */
    .player {
        width: 100%;
        height: 100px;
        background: #111;
        position: fixed;
        bottom: 0;
        left: 0;
        border-top: 1px solid #333;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 30px;
        box-sizing: border-box;
    }

    .player-info {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .player-info img {
        width: 65px;
        height: 65px;
        border-radius: 5px;
    }

    .player-controls button {
        background: none;
        border: none;
        color: white;
        font-size: 22px;
        cursor: pointer;
        margin: 0 8px;
    }

    .player-audio {
        width: 280px;
    }
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
    <div class="nav-left">Kaptanify</div>

    <div class="nav-center">
        <div>Ana Sayfa</div>
        <div>Ke≈üfet</div>
        <div>Favoriler</div>
    </div>

    <div class="nav-right">
        <input id="topSearch" type="text" placeholder="≈ûarkƒ± ara..." />
    </div>
</div>

<!-- HERO -->
<div class="hero">
    <h1>Senin M√ºziƒüin, <span class="purple">Senin Ritmin</span></h1>
    <p>Sƒ±nƒ±rsƒ±z m√ºzik ve videolar ke≈üfet. YouTube tarafƒ±ndan desteklenen milyonlarca i√ßerik.</p>

    <input id="mainSearch" type="text" placeholder="≈ûarkƒ±, sanat√ßƒ± ya da √ßalma listesi ara..." />

    <div class="btns">
        <button class="btn btn-play">Ke≈üfetmeye Ba≈üla</button>
        <button class="btn btn-info">Daha Fazla Bilgi</button>
    </div>
</div>

<!-- SEARCH RESULTS -->
<div class="section-title">Arama Sonu√ßlarƒ±</div>
<div class="results" id="results"></div>

<!-- PLAYER -->
<div class="player">
    <div class="player-info">
        <img id="playerImg" src="" />
        <div>
            <div id="playerTitle">-</div>
            <div id="playerAuthor" style="color:#aaa;">-</div>
        </div>
    </div>

    <div class="player-controls">
        <button id="prevBtn">‚èÆ</button>
        <button id="playBtn">‚ñ∂</button>
        <button id="nextBtn">‚è≠</button>
    </div>

    <audio id="audioPlayer" class="player-audio" controls></audio>
</div>

<script>
const API_KEY = "AIzaSyAFmms_JJrVmmv-rPP4INamToX9xmuVyJY";  // üî• kendi API KEY'ƒ∞Nƒ∞ YAZ

let searchInputMain = document.getElementById("mainSearch");
let searchInputTop = document.getElementById("topSearch");
let resultsBox = document.getElementById("results");
let currentIndex = 0;
let songs = [];

/* YouTube Search */
async function searchSongs(query) {
    const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=${query}&videoCategoryId=10&maxResults=30&key=${API_KEY}`;
    const res = await fetch(url);
    const data = await res.json();
    return data.items;
}

function renderResults(list) {
    resultsBox.innerHTML = "";

    list.forEach((item, i) => {
        let card = document.createElement("div");
        card.className = "song-card";
        card.innerHTML = `
            <img src="${item.snippet.thumbnails.medium.url}">
            <div class="song-title">${item.snippet.title}</div>
            <div class="song-author">${item.snippet.channelTitle}</div>
        `;

        card.onclick = () => playSong(i);

        resultsBox.appendChild(card);
    });
}

/* PLAYER */
function playSong(i) {
    currentIndex = i;
    let song = songs[i];

    document.getElementById("playerImg").src = song.snippet.thumbnails.medium.url;
    document.getElementById("playerTitle").innerText = song.snippet.title;
    document.getElementById("playerAuthor").innerText = song.snippet.channelTitle;

    document.getElementById("audioPlayer").src =
        `https://www.youtube.com/watch?v=${song.id.videoId}`;

    document.getElementById("audioPlayer").play();
    document.getElementById("playBtn").innerText = "‚è∏";
}

/* Search Events */
searchInputMain.addEventListener("keyup", async (e) => {
    if (e.key === "Enter") {
        songs = await searchSongs(searchInputMain.value);
        renderResults(songs);
    }
});

searchInputTop.addEventListener("keyup", async (e) => {
    if (e.key === "Enter") {
        songs = await searchSongs(searchInputTop.value);
        renderResults(songs);
    }
});

/* Player Buttons */
document.getElementById("playBtn").onclick = () => {
    let player = document.getElementById("audioPlayer");
    if (player.paused) {
        player.play();
        playBtn.innerText = "‚è∏";
    } else {
        player.pause();
        playBtn.innerText = "‚ñ∂";
    }
};

document.getElementById("nextBtn").onclick = () => {
    if (currentIndex < songs.length - 1) playSong(currentIndex + 1);
};

document.getElementById("prevBtn").onclick = () => {
    if (currentIndex > 0) playSong(currentIndex - 1);
};
</script>

</body>
</html>
