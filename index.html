<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>KaptanÄ±n MÃ¼zik AlanÄ±</title>
<style>
    body {
        margin: 0;
        background: #0d0d0d;
        color: white;
        font-family: Arial;
        display: flex;
        height: 100vh;
    }

    /* Sol taraf - video alanÄ± */
    #playerArea {
        flex: 3;
        position: relative;
    }

    #player {
        width: 100%;
        height: 100%;
        background: black;
    }

    /* SaÄŸ taraf - Ã§alma listesi */
    #playlist {
        flex: 1;
        background: #111;
        padding: 20px;
        overflow-y: auto;
        border-left: 2px solid #222;
    }

    .songItem {
        padding: 10px;
        background: #1b1b1b;
        margin-bottom: 10px;
        border-radius: 6px;
        cursor: pointer;
    }

    /* Arama kutusu */
    #searchBox {
        position: absolute;
        top: 20px;
        left: 20px;
        width: 350px;
        height: 40px;
        font-size: 18px;
        padding: 5px 10px;
        border-radius: 8px;
        border: none;
    }

    /* Ã–neri kutusu */
    #suggestions {
        position: absolute;
        top: 65px;
        left: 20px;
        width: 350px;
        background: #222;
        border-radius: 8px;
        overflow: hidden;
    }

    .sItem {
        padding: 10px;
        display: flex;
        justify-content: space-between;
        cursor: pointer;
        border-bottom: 1px solid #333;
    }

    .sItem:hover {
        background: #333;
    }

    .addBtn {
        background: #0f0;
        color: black;
        padding: 4px 8px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
    }

    /* YouTube logo gizleme */
    .ytp-watermark,
    .ytp-chrome-top,
    .ytp-chrome-bottom {
        display: none !important;
    }
</style>
</head>
<body>

<div id="playerArea">
    <input id="searchBox" placeholder="ÅžarkÄ± ara...">
    <div id="suggestions"></div>
    <div id="player"></div>
</div>

<div id="playlist">
    <h2>ðŸŽµ Ã‡alma Listesi</h2>
    <div id="list"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let playlist = [];

function onYouTubeIframeAPIReady() {
    player = new YT.Player("player", {
        height: "100%",
        width: "100%",
        videoId: "hansarhos", // senin mp4 yerine baÅŸlangÄ±Ã§ videosu
        playerVars: {
            autoplay: 1,
            controls: 1,
            modestbranding: 1,
            rel: 0,
            showinfo: 0
        }
    });
}

document.getElementById("searchBox").addEventListener("input", async function () {
    let q = this.value.trim();
    if (q.length < 2) {
        document.getElementById("suggestions").innerHTML = "";
        return;
    }

    let key = "AIzaSyAFmms_JJrVmmv-rPP4INamToX9xmuVyJY";

    let url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=6&q=${encodeURIComponent(q)}&key=${key}`;

    let data = await fetch(url).then(r => r.json());

    if (!data.items) {
        document.getElementById("suggestions").innerHTML = "<div style='padding:10px;'>SonuÃ§ bulunamadÄ±</div>";
        return;
    }

    let html = "";
    data.items.forEach(v => {
        let id = v.id.videoId;
        let title = v.snippet.title;

        html += `
            <div class="sItem" onclick="playVideo('${id}')">
                <span>${title}</span>
                <span class="addBtn" onclick="event.stopPropagation(); addToList('${id}', '${title.replace(/'/g, "")}')">+</span>
            </div>
        `;
    });

    document.getElementById("suggestions").innerHTML = html;
});

function playVideo(id) {
    player.loadVideoById(id);
    document.getElementById("suggestions").innerHTML = "";
}

function addToList(id, title) {
    playlist.push({ id, title });

    let item = document.createElement("div");
    item.className = "songItem";
    item.innerHTML = title;
    item.onclick = () => playVideo(id);

    document.getElementById("list").appendChild(item);
}
</script>

</body>
</html>
